{{- if .Values.enabled }}
apiVersion: fission.io/v1
kind: Function
metadata:
  name: {{ .Values.function.name }}
  namespace: {{ .Values.namespace }}
spec:
  environment:
    name: {{ .Values.environment.name }}
    namespace: {{ .Values.namespace }}
  package:
    packageref:
      name: {{ .Values.function.name }}-pkg
      namespace: {{ .Values.namespace }}
  InvokeStrategy:
    StrategyType: execution
    ExecutionStrategy:
      ExecutorType: poolmgr
{{- end }}
